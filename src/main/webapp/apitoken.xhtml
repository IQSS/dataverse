<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
    </h:head>

    <h:body>
        <ui:composition template="/dataverse_template.xhtml">
            <ui:param name="pageTitle" value="API Token - #{dataverseServiceBean.findRootDataverse().name} Dataverse"/>
<!--            <ui:param name="dataverse" value="#{dataverseServiceBean.findRootDataverse()}"/>-->
            <ui:param name="showDataverseHeader" value="false"/>
            <ui:param name="showBreadcrumbs" value="false"/>
            <ui:define name="body">
                <f:metadata>
<!--                    <f:viewAction action="#{ApiTokenPage.init}" />                    -->
                </f:metadata>
                <style type="text/css">
                    .highlight {
                        padding: 9px 14px;
                        margin-bottom: 1em;
                        background-color: #f7f7f9;
                        border: 1px solid #e1e1e8;
                        border-radius: 4px;
                    }
                    .highlight pre {
                        background-color: transparent;
                        border: 0;
                        margin-bottom: 0;
                        margin-top: 0;
                        padding: 0;
                        white-space: nowrap;
                        word-break: normal;
                    }
                    .highlight pre code {
                        display: inline-block;
                        color: #333;
                        font-size: inherit;
                        background-color: transparent;
                        border-radius: 0;
                        color: inherit;
                        padding: 0;
                        white-space: pre-wrap;
                    }
                </style>
                <h:form id="apiTokenForm" style="margin-top:1em;">
                    <p:tabView id="apiTokenView">
                        <p:tab id="apiTokenTab" title="API Token">
                            <p style="display:block; margin-bottom:.5em;" class="text-primary">
                                <span class="glyphicon glyphicon-info-sign"></span> Here is your API Token. Check out our <a href="/guides/API/index.html" target="_blank">API Guide</a> for more information.
                            </p>
                            <div class="highlight">
                                 <pre>
                                    <code class="language-html" data-lang="html">${ApiTokenPage.apiToken}</code>
                                 </pre>
                            </div>
                            <div>
                                <button class="btn btn-default" jsf:action="#{ApiTokenPage.generate()}">
                                    Generate
                                </button>
                            </div>
                        </p:tab>
                    </p:tabView>
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
