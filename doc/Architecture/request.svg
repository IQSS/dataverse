<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="485pt" style="width:703px;height:485px;" version="1.1" viewBox="0 0 703 485" width="703pt"><defs><filter height="300%" id="f1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="434" x="135" y="20.5352">Determine the User and Global Groups for an HTTP Request</text><rect fill="#FFFFFF" filter="url(#f1)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="389" x="282.5" y="189.5977"/><rect fill="#FFFFFF" filter="url(#f1)" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="411.5" x="282.5" y="279.5293"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="23" x2="23" y1="113.9766" y2="401.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="174" x2="174" y1="113.9766" y2="401.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="333.5" x2="333.5" y1="113.9766" y2="401.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="529" x2="529" y1="113.9766" y2="401.7715"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="653" x2="653" y1="113.9766" y2="401.7715"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="5" y="111.0234">User</text><ellipse cx="23.5" cy="40.4883" fill="#FEFECE" filter="url(#f1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23.5,48.4883 L23.5,75.4883 M10.5,56.4883 L36.5,56.4883 M23.5,75.4883 L10.5,90.4883 M23.5,75.4883 L36.5,90.4883 " fill="#FEFECE" filter="url(#f1)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="5" y="413.5352">User</text><ellipse cx="23.5" cy="426.4883" fill="#FEFECE" filter="url(#f1)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M23.5,434.4883 L23.5,461.4883 M10.5,442.4883 L36.5,442.4883 M23.5,461.4883 L10.5,476.4883 M23.5,461.4883 L36.5,476.4883 " fill="#FEFECE" filter="url(#f1)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="141" y="78.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="148" y="99.0234">JsfPage</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="141" y="400"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="148" y="420.5352">JsfPage</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="292.5" y="78.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="299.5" y="99.0234">UserBean</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="78" x="292.5" y="400"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="299.5" y="420.5352">UserBean</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="446" y="78.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="453" y="99.0234">RoleAssigneeProvider</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="446" y="400"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="453" y="420.5352">RoleAssigneeProvider</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="623" y="78.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="630" y="99.0234">Group</text><rect fill="#FEFECE" filter="url(#f1)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="623" y="400"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="630" y="420.5352">Group</text><polygon fill="#A80036" points="162.5,140.9766,172.5,144.9766,162.5,148.9766,166.5,144.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23.5" x2="168.5" y1="144.9766" y2="144.9766"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="30.5" y="140.5449">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="42.5" y="140.5449">HTTP GET &lt;page&gt;</text><polygon fill="#A80036" points="321.5,170.2871,331.5,174.2871,321.5,178.2871,325.5,174.2871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="174.5" x2="327.5" y1="174.2871" y2="174.2871"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="181.5" y="169.8555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="193.5" y="169.8555">findUserAndGroups</text><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="389" x="282.5" y="189.5977"/><polygon fill="#EEEEEE" points="282.5,189.5977,356.5,189.5977,356.5,196.5977,346.5,206.5977,282.5,206.5977,282.5,189.5977" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="297.5" y="203.166">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="295" x="371.5" y="202.2324">[for each role assignee provider, until we get a user]</text><polygon fill="#A80036" points="517.5,223.9082,527.5,227.9082,517.5,231.9082,521.5,227.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="333.5" x2="523.5" y1="227.9082" y2="227.9082"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="340.5" y="223.4766">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="352.5" y="223.4766">createUser( HttpRequest )</text><polygon fill="#A80036" points="344.5,253.2188,334.5,257.2188,344.5,261.2188,340.5,257.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="338.5" x2="528.5" y1="257.2188" y2="257.2188"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="350.5" y="252.7871">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="362.5" y="252.7871">user</text><rect fill="none" height="75.9316" style="stroke: #000000; stroke-width: 2.0;" width="411.5" x="282.5" y="279.5293"/><polygon fill="#EEEEEE" points="282.5,279.5293,356.5,279.5293,356.5,286.5293,346.5,296.5293,282.5,296.5293,282.5,279.5293" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="297.5" y="293.0977">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="371.5" y="292.1641">[for each global group]</text><polygon fill="#A80036" points="641.5,313.8398,651.5,317.8398,641.5,321.8398,645.5,317.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="333.5" x2="647.5" y1="317.8398" y2="317.8398"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="340.5" y="313.4082">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="205" x="352.5" y="313.4082">isMemberOf( user, HttpRequest )</text><polygon fill="#A80036" points="344.5,343.1504,334.5,347.1504,344.5,351.1504,340.5,347.1504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="338.5" x2="652.5" y1="347.1504" y2="347.1504"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="350.5" y="342.7188">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="362.5" y="342.7188">true/false</text><polygon fill="#A80036" points="185.5,379.4609,175.5,383.4609,185.5,387.4609,181.5,383.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="179.5" x2="332.5" y1="383.4609" y2="383.4609"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="191.5" y="379.0293">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="203.5" y="379.0293">( user, groups )</text></g></svg>